<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Forgot Password - Uloom-e-Shariyah</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
    <link rel="stylesheet" href="auth-style.css">
</head>
<body>

    <div class="auth-container">
        <div class="auth-box">
            <h2>Reset Password</h2>
            <p class="subtitle">Enter your email and we'll send you a reset link</p>

            <form id="forgotForm">
                <div class="input-group">
                    <span class="material-symbols-outlined">mail</span>
                    <input type="email" id="resetEmail" placeholder="Email Address" required>
                </div>
                <button type="submit" class="auth-btn">Send Reset Link</button>
            </form>

            <div class="auth-footer">
                Back to <a href="login.html">Login</a>
            </div>
        </div>
    </div>

    <script type="module">
      import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
      import { getAuth, sendPasswordResetEmail } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";

      const firebaseConfig = {
        apiKey: "AIzaSyB_MCKP6SPKloZpf_pHZBzy2vvkiJ3B7gk",
        authDomain: "uloom-e-shariah.firebaseapp.com",
        projectId: "uloom-e-shariah",
        storageBucket: "uloom-e-shariah.firebasestorage.app",
        messagingSenderId: "210360115259",
        appId: "1:210360115259:web:938d886285f4412d3ebc1e"
      };

      const app = initializeApp(firebaseConfig);
      const auth = getAuth(app);

      document.getElementById('forgotForm').addEventListener('submit', async (e) => {
        e.preventDefault();
        const email = document.getElementById('resetEmail').value;

        try {
          await sendPasswordResetEmail(auth, email);
          alert("Success! Please check your email inbox for the reset link.");
          window.location.href = "login.html";
        } catch (error) {
          alert("Error: " + error.message);
        }
      });
    </script>
</body>
</html>
